<div class="task-overview">
  <div class="filter-bar">
    <input type="text" [(ngModel)]="keyword" (ngModelChange)="onFilterChange()" placeholder="Tìm kiếm..." class="form-control" />

    <select [(ngModel)]="filterStatus" (change)="onFilterChange()" class="form-select">
      <option value="">Tất cả trạng thái</option>
      <option *ngFor="let s of ['TODO', 'IN_PROGRESS', 'REVIEW', 'DONE']" [value]="s">{{ s }}</option>
    </select>

    <select [(ngModel)]="filterPriority" (change)="onFilterChange()" class="form-select">
      <option value="">Tất cả ưu tiên</option>
      <option *ngFor="let p of ['LOW', 'MEDIUM', 'HIGH', 'URGENT']" [value]="p">{{ p }}</option>
    </select>

    <button type="button" class="btn btn-primary" (click)="goToCreate()">
      + Thêm công việc
    </button>
  </div>

  <div class="task-list" *ngIf="tasks && tasks.length > 0; else noTasks">
    <app-task-card
      *ngFor="let task of tasks"
      [task]="task"
      (editClicked)="goToEdit(task)"
      (click)="goToView(task)">
    </app-task-card>
  </div>

  <ng-template #noTasks>
    <p>Không có công việc nào được tìm thấy.</p>
  </ng-template>
</div>
